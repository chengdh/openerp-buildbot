<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <menuitem id="buildbot_menu" name="Buildbot" icon="terp-tools"/>
		<menuitem id="buildbot_config" name="Configuration" parent="buildbot_menu"/>
		<menuitem id="buildbot_test_detail" name="Test Detail" parent="buildbot_menu"/>
		<menuitem id="buildbot_schedular_detail" name="Schedular" parent="buildbot_menu"/>
		<menuitem id="buildbot_project_builder" name="Project &amp; Builder" parent="buildbot_menu"/>

       <!-- Buildbot Groups -->

        <record id="view_buildbot_group_form" model="ir.ui.view">
        	<field name="name">Launchpad Teams</field>
            <field name="model">buildbot.lp.group</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
            	<form>
            		<field name="name"/>
            		<field name="sequence"/>
            		<field name="url" widget="url"/>
            	</form>
        	</field>
        </record>

        <record id="action_buildbot_group" model="ir.actions.act_window">
        	<field name="name">Launchpad Teams</field>
        	<field name="type">ir.actions.act_window</field>
            <field name="res_model">buildbot.lp.group</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
       	</record>

       	<menuitem id="buildbot_groups"  name="Launchpad Teams" parent="buildbot_config"
       	          sequence="5" action="action_buildbot_group"/>

        <!-- Buildbot Users -->

        <record id="view_buildbot_user_form" model="ir.ui.view">
        	<field name="name">Launchpad Users</field>
            <field name="model">buildbot.lp.user</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
            	<form>
            		<field name="name"/>
            		<field name="user_id"/>
            		<field name="url" colspan="2" widget="url"/>
            		<field name="lp_email" colspan="2" widget="url"/>
            		<separator string="Groups" colspan="4"/>
            		<field name="lp_group_ids" nolabel="1" colspan="4"/>
            	</form>
        	</field>
        </record>

        <record id="action_buildbot_user" model="ir.actions.act_window">
        	<field name="name">Launchpad Users</field>
        	<field name="type">ir.actions.act_window</field>
            <field name="res_model">buildbot.lp.user</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
       	</record>

       	<menuitem id="buildbot_users" name="Launchpad Users" parent="buildbot_config"
            sequence="5" action="action_buildbot_user"/>

       <!-- Buildbot Branches -->

        <record id="view_buildbot_branch_form" model="ir.ui.view">
        	<field name="name">Launchpad Branches</field>
            <field name="model">buildbot.lp.branch</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
            	<form>
					<field name="name"/>
    				<field name="url" widget="url"/>
        			 <group colspan="4" col="8">
        				<group colspan="4">
       						<field name="lp_project_id" colspan="2"/>
       					</group>
       					<group colspan="4">
       						<field name="active" colspan="1"/>
       						<label string="" colspan="1"/>
        					<field name="is_root_branch" colspan="1"/>
       						<field name="is_test_branch" colspan="1"/>
       					</group>
       					<group colspan="4">
							<separator string="General Details" colspan="4"/>
   							<field name="lp_user_id" colspan="2"/>
		   					<field name="lp_group_id" colspan="2"/>
       					</group>
       					<group colspan="4">
       						<separator string="Schedular" colspan="4"/>
       						<field name="treestabletimer" colspan="2"/>
       						<label string="" colspan="2"/>
       					</group>
       					<group colspan="4">
							<separator string="Builder Settings" colspan="4"/>
							<field name="dbname" colspan="2"/>
							<field name="build_directory" colspan="2"/>
   							<field name="port" colspan="2"/>
       						<field name="netport" colspan="2"/>
						</group>
                        <group colspan="4">
							<separator string="Merge Settings" colspan="4"/>
							<field name="merge_addons" colspan="2"/>
							<field name="merge_server" colspan="2"/>
   							<field name="merge_extra_addons" colspan="2"/>
       						<field name="merge_community_addons" colspan="2"/>
						</group>
						<group colspan="4" groups="base.group_extended">
							<separator string="Latest Revision Details" colspan="4"/>
       						<field name="lastest_rev_no" colspan="2"/>
       						<field name="lastest_rev_id" colspan="2"/>
       					</group>
					</group>
            	</form>
        	</field>
        </record>

        <record id="action_buildbot_branch" model="ir.actions.act_window">
        	<field name="name">Launchpad Branches</field>
        	<field name="type">ir.actions.act_window</field>
            <field name="res_model">buildbot.lp.branch</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
       	</record>

       	<menuitem id="buildbot_branch" name="Launchpad Branches" parent="buildbot_config"
            	  sequence="5" action="action_buildbot_branch"/>

       <!-- Buildbot Environment -->

        <record id="view_buildbot_environment_form" model="ir.ui.view">
        	<field name="name">Test Environment</field>
            <field name="model">buildbot.test.environment</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
            	<form>
            		<field name="name" colspan="2"/>
            		<field name="version" colspan="2"/>
            		<field name="revision_id" colspan="2"/>
            		<field name="source_url" colspan="2" widget="url"/>
            		<separator string="Notes" colspan="4"/>
            		<field name="note" nolabel="1" colspan="4"/>
            	</form>
        	</field>
        </record>

        <record id="action_buildbot_test_env" model="ir.actions.act_window">
        	<field name="name">Test Environment</field>
        	<field name="type">ir.actions.act_window</field>
            <field name="res_model">buildbot.test.environment</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
       	</record>

       	<menuitem id="buildbot_test_environment"  name="Test Environment" parent="buildbot_config"
                  sequence="5" action="action_buildbot_test_env"/>

       <!-- Buildbot Tests -->

		<record id="view_buildbot_test_tree" model="ir.ui.view">
        	<field name="name">Test Details</field>
            <field name="model">buildbot.test</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
            	<tree>
            		<field name="name"/>
            		<field name="tested_branch"/>
            		<field name="state"/>
            	</tree>
            </field>
        </record>
        <record id="view_buildbot_test_form" model="ir.ui.view">
        	<field name="name">Test Details</field>
            <field name="model">buildbot.test</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
            	<form>
            		<field name="test_date" colspan="2"/>
            		<field name="tested_branch" colspan="2"/>
            		<notebook colspan="4">
	            		<page string="Commit Details">
	            			<field name="commiter_id" colspan="2"/>
		            		<field name="commit_date" colspan="2"/>
		            		<field name="commit_rev_id" colspan="2"/>
		            		<field name="commit_rev_no" colspan="2"/>
		            		<field name="patch_attached" colspan="2"/>
                            <separator string="Commit Message"  colspan="4"/>
		            		<field name="commit_comment"  nolabel="1" colspan="4"/>
		            	</page>
	            	<page string="File Status">
	            		<notebook colspan="4">
	            			<page string="New Files">
	            				<field name="new_files" nolabel="1"/>
	            			</page>
	            			<page string="Updated Files">
	            				<field name="update_files" nolabel="1"/>
	            			</page>
	            			<page string="Removed Files">
	            				<field name="remove_files" nolabel="1"/>
	            			</page>
	            			<page string="Renamed Files">
	            				<field name="rename_files" nolabel="1"/>
	            			</page>
	            		</notebook>
	            	</page>
	            	<page string="Test Steps">
            			<field name="test_step_ids" nolabel="1" colspan="4" />
            		</page>
            		<page string="Environment">
            			<field name="environment_id" nolabel="1" colspan="4"/>
            		</page>
            		</notebook>
					<field name="state"/>
            	</form>
        	</field>
        </record>

        <record id="action_buildbot_test" model="ir.actions.act_window">
        	<field name="name">Test Details</field>
        	<field name="type">ir.actions.act_window</field>
            <field name="res_model">buildbot.test</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
       	</record>

       	<menuitem id="buildbot_test" name="Test Details" parent="buildbot_test_detail"
                  sequence="5" action="action_buildbot_test"/>

        <!-- Buildbot Test Steps -->

		<record id="view_buildbot_test_step_tree" model="ir.ui.view">
        	<field name="name">Buildbot Test Step</field>
            <field name="model">buildbot.test.step</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
            	<tree string="Test Step">
            		<field name="name" colspan="2"/>
            		<field name="state" colspan="2"/>
            	</tree>
            </field>
        </record>

        <record id="view_buildbot_test_step_form" model="ir.ui.view">
        	<field name="name">Buildbot Test Step</field>
            <field name="model">buildbot.test.step</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
            	<form>
            		<field name="name" colspan="2"/>
            		<field name="test_id" colspan="2"/>
            		<notebook colspan="4">
            			<page string="Logs">
            				<notebook colspan="4">
			            		<page string="Error Log">
			            			<field name="error_log" colspan="2" nolabel="1"/>
			            		</page>
			            		<page string="Warning Log">
			            			<field name="warning_log" colspan="2" nolabel="1"/>
			            		</page>
			            		<page string="Critical Log">
			            			<field name="critical_log" colspan="2" nolabel="1"/>
			            		</page>
			            		<page string="Info Log">
			            			<field name="info_log" colspan="2" nolabel="1"/>
			            		</page>
			            		<page string="Yml Log">
			            			<field name="yml_log" colspan="2" nolabel="1"/>
			            		</page>
			            		<page string="Traceback">
			            			<field name="traceback_detail" nolabel="1" colspan="4"/>
			            		</page>
			            	</notebook>
			            </page>
            		</notebook>
            		<field name="state" colspan="2"/>
            	</form>
        	</field>
        </record>

	<!-- Buildbot Projects -->

        <record id="view_buildbot_project_form" model="ir.ui.view">
        	<field name="name">Launchpad Project</field>
            <field name="model">buildbot.lp.project</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
            	<form>
            		<field name="name" select="1"/>
            		<field name="url" select="1" widget="url"/>
            		<field name="tester_server_branch_id" domain="[('is_test_branch', '=', True)]"/>
            		<field name="tester_addons_branch_id" domain="[('is_test_branch', '=', True)]"/>
            		<field name="root_branch_id" domain="[('is_root_branch', '=', True)]"/>
            		<field name="branch_ids"  nolabel="1" colspan="4" domain="[('is_test_branch', '=', False), ('is_root_branch', '=', False)]">
            		   <tree string="Branches">
            		    	<field name="name"/>
            				<field name="url"/>
            				<field name="lp_user_id"/>
            				<field name="lp_group_id"/>
		            		<field name="lastest_rev_id"/>
		            		<field name="lastest_rev_no"/>
		            		<field name="active"/>
            			</tree>
            		    <form string="Branches">
            		    	<field name="name"/>
            				<field name="url"/>
            				<field name="lp_user_id"/>
            				<field name="lp_group_id"/>
		            		<field name="lastest_rev_id"/>
		            		<field name="lastest_rev_no"/>
		            		<field name="active"/>
            			</form>
            		</field>
            	</form>
        	</field>
        </record>

        <record id="action_buildbot_project" model="ir.actions.act_window">
        	<field name="name">Launchpad Projects</field>
        	<field name="type">ir.actions.act_window</field>
            <field name="res_model">buildbot.lp.project</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
       	</record>

       	<menuitem id="buildbot_project" name="Launchpad Projects" parent="buildbot_config"
                  sequence="5" action="action_buildbot_project"/>
	</data>
</openerp>
